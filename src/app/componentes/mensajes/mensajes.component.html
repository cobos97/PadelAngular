<form class="form-inline" (ngSubmit)="onGuardarMensaje(formNew)" #formNew="ngForm">
  <div class="form-group mb-2 w-75">
    <input [(ngModel)]="mensaje.contenido" #contenido="ngModel" type="text" class="form-control w-75" id="mensaje"
      name="mensaje" placeholder="Escribe tu mensaje aquÃ­" required>
    <select [(ngModel)]="mensaje.lugar" #lugar="ngModel" id="lugar" name="lugar" class="form-control ml-5" required>
      <option value="Moriles" selected>Moriles</option>
      <option value="Lucena">Lucena</option>
      <option value="Monturque">Monturque</option>
    </select>
  </div>
  <input type="submit" class="btn btn-primary mb-2 ml-5" name="enviar" value="Enviar">
</form>

<!--
<div *ngIf="mensajes?.length > 0; else noMensajes">
  <div class="list-group">
    <div *ngFor="let mensaje of mensajes" class="list-group-item list-group-item-action flex-column align-items-start">
      <div class="d-flex w-100 justify-content-between">
        <h5 class="mb-1">{{mensaje.usuario}}</h5>
      </div>
      <p class="mb-1">{{mensaje.contenido}}</p>
    </div>
  </div>
</div>
<ng-template #noMensajes>
  <hr>
  <h5>No hay mensajes</h5>
</ng-template>
-->

<div class="row">
  <div class="col-3">
    <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
      <a class="nav-link active" id="v-pills-home-tab" data-toggle="pill" href="#v-pills-home" role="tab"
        aria-controls="v-pills-home" aria-selected="true">Moriles</a>
      <a class="nav-link" id="v-pills-profile-tab" data-toggle="pill" href="#v-pills-profile" role="tab"
        aria-controls="v-pills-profile" aria-selected="false">Lucena</a>
      <a class="nav-link" id="v-pills-messages-tab" data-toggle="pill" href="#v-pills-messages" role="tab"
        aria-controls="v-pills-messages" aria-selected="false">Monturque</a> </div>
  </div>
  <div class="col-9">
    <div class="tab-content" id="v-pills-tabContent">
      <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab">

        <div *ngIf="mensajesMoriles?.length > 0; else noMensajes">
          <div class="list-group">
            <div *ngFor="let mensaje of mensajesMoriles" class="list-group-item list-group-item-action flex-column align-items-start">
              <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1">{{mensaje.usuario}}</h5>
                <!--<small>{{mensaje.id}}</small>-->
              </div>
              <p class="mb-1">{{mensaje.contenido}}</p>
              <button *ngIf="admin" class="btn btn-danger" type="button" name="borrar" 
              (click)='borrarMensaje(mensaje.id)'>Borrar</button>
              <!--<small>Donec id elit non mi porta.</small>-->
            </div>
          </div>
        </div>
        <ng-template #noMensajes>
          <hr>
          <h5>No hay mensajes en Moriles</h5>
        </ng-template>

      </div>
      <div class="tab-pane fade" id="v-pills-profile" role="tabpanel" aria-labelledby="v-pills-profile-tab">

        <div *ngIf="mensajesLucena?.length > 0; else noMensajes">
          <div class="list-group">
            <div *ngFor="let mensaje of mensajesLucena" class="list-group-item list-group-item-action flex-column align-items-start">
              <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1">{{mensaje.usuario}}</h5>
                <!--<small>3 days ago</small>-->
              </div>
              <p class="mb-1">{{mensaje.contenido}}</p>
              <!--<small>Donec id elit non mi porta.</small>-->
            </div>
          </div>
        </div>
        <ng-template #noMensajes>
          <hr>
          <h5>No hay mensajes en Lucena</h5>
        </ng-template>

      </div>
      <div class="tab-pane fade" id="v-pills-messages" role="tabpanel" aria-labelledby="v-pills-messages-tab">

        <div *ngIf="mensajesMonturque?.length > 0; else noMensajes">
          <div class="list-group">
            <div *ngFor="let mensaje of mensajesMonturque" class="list-group-item list-group-item-action flex-column align-items-start">
              <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1">{{mensaje.usuario}}</h5>
                <!--<small>3 days ago</small>-->
              </div>
              <p class="mb-1">{{mensaje.contenido}}</p>
              <!--<small>Donec id elit non mi porta.</small>-->
            </div>
          </div>
        </div>
        <ng-template #noMensajes>
          <hr>
          <h5>No hay mensajes en Monturque</h5>
        </ng-template>

      </div>
    </div>
  </div>
</div>


